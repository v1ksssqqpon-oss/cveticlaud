<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>BloomGo üå∏</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
  :root {
    --blush: #f5e6e0;
    --rose: #d4838a;
    --deep-rose: #b05e65;
    --petal: #faf0ed;
    --sage: #8a9e8a;
    --cream: #fdf8f5;
    --ink: #2a1f1f;
    --muted: #8a7070;
    --card: #ffffff;
    --border: rgba(212,131,138,0.15);
    --shadow: 0 4px 24px rgba(176,94,101,0.1);
    --shadow-lg: 0 12px 48px rgba(176,94,101,0.18);
    --radius: 20px;
    --radius-sm: 12px;
    --accent: #c17b5c;
  }

  [data-theme="dark"] {
    --blush: #2a1a1f;
    --rose: #d4838a;
    --deep-rose: #e8a0a7;
    --petal: #1e1215;
    --cream: #1a1115;
    --ink: #f5e6e0;
    --muted: #a08080;
    --card: #251820;
    --border: rgba(212,131,138,0.2);
    --shadow: 0 4px 24px rgba(0,0,0,0.3);
    --shadow-lg: 0 12px 48px rgba(0,0,0,0.4);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--cream);
    color: var(--ink);
    min-height: 100vh;
    overflow-x: hidden;
    transition: background 0.3s, color 0.3s;
  }

  /* SCROLLBAR */
  ::-webkit-scrollbar { width: 4px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }

  /* SCREENS */
  .screen { display: none; min-height: 100vh; padding-bottom: 90px; }
  .screen.active { display: block; }
  .screen.slide-in { animation: slideIn 0.3s ease; }

  @keyframes slideIn {
    from { opacity: 0; transform: translateX(20px); }
    to { opacity: 1; transform: translateX(0); }
  }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes pulse-soft {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
  }

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-6px); }
  }

  /* TOP BAR */
  .topbar {
    position: sticky; top: 0; z-index: 100;
    background: rgba(253,248,245,0.92);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    padding: 14px 20px;
    display: flex; align-items: center; justify-content: space-between;
    border-bottom: 1px solid var(--border);
    transition: background 0.3s;
  }

  [data-theme="dark"] .topbar {
    background: rgba(26,17,21,0.92);
  }

  .topbar-logo {
    font-family: 'Cormorant Garamond', serif;
    font-size: 22px; font-weight: 600;
    color: var(--deep-rose);
    letter-spacing: -0.5px;
  }

  .topbar-logo span { color: var(--rose); }

  .topbar-actions { display: flex; gap: 8px; }

  .icon-btn {
    width: 38px; height: 38px;
    border-radius: 50%; border: none;
    background: var(--blush);
    color: var(--rose);
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; font-size: 16px;
    transition: all 0.2s;
  }

  .icon-btn:active { transform: scale(0.92); }

  /* BANNER */
  .hero-banner {
    margin: 16px; border-radius: var(--radius);
    background: linear-gradient(135deg, var(--rose) 0%, var(--deep-rose) 60%, #7a3a40 100%);
    padding: 28px 24px;
    position: relative; overflow: hidden;
    color: white;
    animation: fadeUp 0.4s ease;
  }

  .hero-banner::before {
    content: '';
    position: absolute; right: -20px; top: -20px;
    width: 160px; height: 160px;
    background: rgba(255,255,255,0.08);
    border-radius: 50%;
  }

  .hero-banner::after {
    content: 'üå∏';
    position: absolute; right: 24px; top: 50%;
    transform: translateY(-50%);
    font-size: 64px;
    animation: float 3s ease-in-out infinite;
    filter: drop-shadow(0 8px 16px rgba(0,0,0,0.2));
  }

  .banner-tag {
    display: inline-block;
    background: rgba(255,255,255,0.25);
    backdrop-filter: blur(8px);
    padding: 4px 12px; border-radius: 20px;
    font-size: 11px; font-weight: 500;
    margin-bottom: 10px; letter-spacing: 0.5px;
    text-transform: uppercase;
  }

  .banner-title {
    font-family: 'Cormorant Garamond', serif;
    font-size: 26px; font-weight: 600;
    line-height: 1.2; margin-bottom: 8px;
  }

  .banner-sub { font-size: 13px; opacity: 0.85; margin-bottom: 18px; }

  .banner-timer {
    display: inline-flex; align-items: center; gap: 6px;
    background: rgba(255,255,255,0.2);
    backdrop-filter: blur(8px);
    padding: 6px 14px; border-radius: 20px;
    font-size: 13px; font-weight: 500;
  }

  .timer-dot { width: 6px; height: 6px; background: #fff; border-radius: 50%; animation: pulse-soft 1.5s infinite; }

  /* CATEGORIES */
  .section { padding: 20px 20px 0; }
  .section-title {
    font-family: 'Cormorant Garamond', serif;
    font-size: 20px; font-weight: 600;
    margin-bottom: 14px; color: var(--ink);
  }

  .cats {
    display: grid; grid-template-columns: repeat(4, 1fr);
    gap: 10px; margin: 0 16px;
    animation: fadeUp 0.5s ease 0.1s both;
  }

  .cat-item {
    background: var(--card);
    border-radius: var(--radius-sm);
    padding: 14px 8px; text-align: center;
    cursor: pointer; border: 1px solid var(--border);
    transition: all 0.2s;
    box-shadow: var(--shadow);
  }

  .cat-item:active { transform: scale(0.95); }
  .cat-item.active { background: var(--deep-rose); border-color: var(--deep-rose); }
  .cat-item.active .cat-name { color: white; }

  .cat-emoji { font-size: 24px; margin-bottom: 4px; }
  .cat-name { font-size: 11px; color: var(--muted); font-weight: 500; }

  /* PRODUCT CARDS */
  .products-grid {
    display: grid; grid-template-columns: repeat(2, 1fr);
    gap: 12px; padding: 0 16px;
    animation: fadeUp 0.5s ease 0.2s both;
  }

  .product-card {
    background: var(--card);
    border-radius: var(--radius);
    overflow: hidden;
    box-shadow: var(--shadow);
    border: 1px solid var(--border);
    cursor: pointer;
    transition: all 0.25s;
    position: relative;
  }

  .product-card:active { transform: scale(0.97); }

  .product-img {
    width: 100%; aspect-ratio: 1;
    background: var(--blush);
    display: flex; align-items: center; justify-content: center;
    font-size: 60px; position: relative;
    overflow: hidden;
  }

  .product-img-emoji {
    transition: transform 0.3s;
    filter: drop-shadow(0 8px 16px rgba(176,94,101,0.3));
  }

  .product-card:active .product-img-emoji { transform: scale(1.1); }

  .badge {
    position: absolute; top: 10px; left: 10px;
    padding: 3px 10px; border-radius: 20px;
    font-size: 10px; font-weight: 600;
    letter-spacing: 0.3px; text-transform: uppercase;
  }

  .badge-hit { background: #FFD700; color: #5a4000; }
  .badge-new { background: var(--sage); color: white; }
  .badge-sale { background: var(--deep-rose); color: white; }
  .badge-limited { background: var(--ink); color: white; }

  .wishlist-btn {
    position: absolute; top: 10px; right: 10px;
    width: 30px; height: 30px; border-radius: 50%;
    background: rgba(255,255,255,0.9);
    border: none; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    font-size: 14px; transition: all 0.2s;
  }

  .wishlist-btn.active { background: var(--deep-rose); }

  .product-info { padding: 12px; }

  .product-name {
    font-family: 'Cormorant Garamond', serif;
    font-size: 15px; font-weight: 600;
    margin-bottom: 4px; line-height: 1.2;
  }

  .product-desc { font-size: 11px; color: var(--muted); margin-bottom: 10px; }

  .product-footer { display: flex; align-items: center; justify-content: space-between; }

  .product-price {
    font-weight: 600; font-size: 15px;
    color: var(--deep-rose);
  }

  .product-old-price {
    font-size: 11px; color: var(--muted);
    text-decoration: line-through;
  }

  .add-btn {
    width: 32px; height: 32px; border-radius: 50%;
    background: var(--deep-rose); border: none;
    color: white; font-size: 18px; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    transition: all 0.2s; box-shadow: 0 4px 12px rgba(176,94,101,0.35);
  }

  .add-btn:active { transform: scale(0.88); }

  /* BOTTOM NAV */
  .bottom-nav {
    position: fixed; bottom: 0; left: 0; right: 0;
    background: var(--card);
    border-top: 1px solid var(--border);
    display: grid; grid-template-columns: repeat(5, 1fr);
    padding: 10px 0 calc(10px + env(safe-area-inset-bottom));
    z-index: 200;
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
  }

  .nav-item {
    display: flex; flex-direction: column; align-items: center;
    gap: 3px; cursor: pointer; padding: 4px;
    transition: all 0.2s;
  }

  .nav-item:active { transform: scale(0.9); }

  .nav-icon { font-size: 20px; position: relative; }

  .nav-badge {
    position: absolute; top: -4px; right: -8px;
    background: var(--deep-rose); color: white;
    font-size: 9px; font-weight: 600;
    min-width: 16px; height: 16px;
    border-radius: 8px; display: flex;
    align-items: center; justify-content: center;
    padding: 0 4px;
  }

  .nav-label { font-size: 10px; color: var(--muted); font-weight: 500; }
  .nav-item.active .nav-label { color: var(--deep-rose); }
  .nav-item.active .nav-icon { filter: none; }

  /* CART */
  .cart-item {
    display: flex; align-items: center; gap: 14px;
    background: var(--card); border-radius: var(--radius-sm);
    padding: 14px; margin: 0 16px 10px;
    box-shadow: var(--shadow); border: 1px solid var(--border);
    animation: fadeUp 0.3s ease;
  }

  .cart-item-img {
    width: 60px; height: 60px; border-radius: 12px;
    background: var(--blush); display: flex;
    align-items: center; justify-content: center;
    font-size: 30px; flex-shrink: 0;
  }

  .cart-item-info { flex: 1; }
  .cart-item-name { font-weight: 600; font-size: 14px; margin-bottom: 4px; }
  .cart-item-price { color: var(--deep-rose); font-size: 15px; font-weight: 600; }

  .qty-control {
    display: flex; align-items: center; gap: 10px;
  }

  .qty-btn {
    width: 28px; height: 28px; border-radius: 50%;
    border: 1.5px solid var(--border); background: transparent;
    color: var(--ink); cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    font-size: 16px; transition: all 0.2s;
  }

  .qty-btn:active { background: var(--blush); }
  .qty-num { font-weight: 600; min-width: 20px; text-align: center; }

  /* ORDER SUMMARY */
  .order-box {
    margin: 16px; background: var(--card);
    border-radius: var(--radius); padding: 18px;
    box-shadow: var(--shadow); border: 1px solid var(--border);
  }

  .order-row {
    display: flex; justify-content: space-between;
    align-items: center; padding: 6px 0;
    font-size: 14px;
  }

  .order-row.total {
    border-top: 1px solid var(--border);
    margin-top: 8px; padding-top: 14px;
    font-size: 16px; font-weight: 600;
  }

  .order-row .label { color: var(--muted); }
  .order-row .val { font-weight: 500; }
  .order-row.total .val { color: var(--deep-rose); font-size: 18px; }

  /* PROMO INPUT */
  .promo-wrap {
    margin: 0 16px 16px; display: flex; gap: 8px;
  }

  .promo-input {
    flex: 1; padding: 12px 16px; border-radius: var(--radius-sm);
    border: 1.5px solid var(--border); background: var(--card);
    font-family: 'DM Sans', sans-serif; font-size: 14px;
    color: var(--ink); outline: none;
    transition: border-color 0.2s;
  }

  .promo-input:focus { border-color: var(--rose); }

  /* BUTTONS */
  .btn-primary {
    display: block; width: calc(100% - 32px);
    margin: 16px; padding: 16px;
    background: linear-gradient(135deg, var(--rose), var(--deep-rose));
    color: white; border: none; border-radius: var(--radius-sm);
    font-family: 'DM Sans', sans-serif; font-size: 15px; font-weight: 600;
    cursor: pointer; box-shadow: 0 8px 24px rgba(176,94,101,0.35);
    transition: all 0.2s;
    letter-spacing: 0.2px;
  }

  .btn-primary:active { transform: scale(0.97); box-shadow: 0 4px 12px rgba(176,94,101,0.25); }

  .btn-secondary {
    display: block; width: calc(100% - 32px);
    margin: 8px 16px; padding: 14px;
    background: transparent; color: var(--deep-rose);
    border: 1.5px solid var(--deep-rose); border-radius: var(--radius-sm);
    font-family: 'DM Sans', sans-serif; font-size: 15px; font-weight: 500;
    cursor: pointer; transition: all 0.2s;
  }

  /* INPUT */
  .field { margin: 0 16px 12px; }
  .field label { display: block; font-size: 12px; color: var(--muted); margin-bottom: 6px; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; }
  .field input, .field textarea, .field select {
    width: 100%; padding: 13px 16px;
    border: 1.5px solid var(--border); border-radius: var(--radius-sm);
    background: var(--card); color: var(--ink);
    font-family: 'DM Sans', sans-serif; font-size: 14px;
    outline: none; transition: border-color 0.2s;
    -webkit-appearance: none;
  }
  .field input:focus, .field textarea:focus, .field select:focus { border-color: var(--rose); }
  .field textarea { height: 80px; resize: none; }

  /* STATUS TRACKER */
  .status-track {
    display: flex; align-items: center;
    margin: 24px 20px; position: relative;
  }

  .status-step {
    flex: 1; display: flex; flex-direction: column;
    align-items: center; position: relative;
  }

  .status-step::before {
    content: '';
    position: absolute; top: 14px; left: 50%;
    width: 100%; height: 2px;
    background: var(--border);
  }

  .status-step:last-child::before { display: none; }
  .status-step.done::before { background: var(--rose); }

  .status-dot {
    width: 28px; height: 28px; border-radius: 50%;
    border: 2px solid var(--border);
    background: var(--card); z-index: 1;
    display: flex; align-items: center; justify-content: center;
    font-size: 12px; margin-bottom: 6px;
    transition: all 0.3s;
  }

  .status-step.done .status-dot { background: var(--rose); border-color: var(--rose); }
  .status-step.active .status-dot { background: var(--deep-rose); border-color: var(--deep-rose); box-shadow: 0 0 0 4px rgba(176,94,101,0.2); }

  .status-label { font-size: 10px; color: var(--muted); text-align: center; font-weight: 500; }
  .status-step.active .status-label, .status-step.done .status-label { color: var(--deep-rose); }

  /* SUCCESS SCREEN */
  .success-icon {
    width: 100px; height: 100px; border-radius: 50%;
    background: linear-gradient(135deg, var(--rose), var(--deep-rose));
    display: flex; align-items: center; justify-content: center;
    font-size: 48px; margin: 40px auto 20px;
    box-shadow: 0 16px 40px rgba(176,94,101,0.3);
    animation: float 2s ease-in-out infinite;
  }

  /* CONSTRUCTOR */
  .flower-grid {
    display: grid; grid-template-columns: repeat(3, 1fr);
    gap: 10px; padding: 0 16px;
  }

  .flower-item {
    background: var(--card); border-radius: var(--radius-sm);
    padding: 16px 8px; text-align: center;
    cursor: pointer; border: 2px solid transparent;
    transition: all 0.2s; box-shadow: var(--shadow);
  }

  .flower-item.selected { border-color: var(--rose); background: var(--blush); }
  .flower-item:active { transform: scale(0.95); }

  .flower-emoji { font-size: 32px; margin-bottom: 6px; }
  .flower-name { font-size: 12px; font-weight: 500; }
  .flower-price { font-size: 11px; color: var(--muted); }

  .qty-row {
    display: flex; align-items: center; justify-content: space-between;
    background: var(--card); border-radius: var(--radius-sm);
    padding: 14px 16px; margin: 0 16px 10px;
    border: 1px solid var(--border);
  }

  .qty-row-label { font-size: 14px; font-weight: 500; }
  .qty-row-sub { font-size: 12px; color: var(--muted); }

  .package-options {
    display: grid; grid-template-columns: repeat(3, 1fr);
    gap: 8px; padding: 0 16px;
  }

  .package-opt {
    background: var(--card); border-radius: var(--radius-sm);
    padding: 12px 8px; text-align: center;
    cursor: pointer; border: 2px solid transparent;
    transition: all 0.2s; font-size: 24px;
  }

  .package-opt.selected { border-color: var(--rose); background: var(--blush); }
  .package-opt span { display: block; font-size: 11px; margin-top: 4px; color: var(--muted); }

  /* ADMIN */
  .admin-screen { background: var(--cream); }

  .stats-grid {
    display: grid; grid-template-columns: repeat(2, 1fr);
    gap: 12px; padding: 0 16px;
  }

  .stat-card {
    background: var(--card); border-radius: var(--radius-sm);
    padding: 16px; box-shadow: var(--shadow);
    border: 1px solid var(--border);
    animation: fadeUp 0.4s ease;
  }

  .stat-label { font-size: 11px; color: var(--muted); margin-bottom: 6px; text-transform: uppercase; letter-spacing: 0.5px; font-weight: 500; }
  .stat-val { font-family: 'Cormorant Garamond', serif; font-size: 28px; font-weight: 600; color: var(--deep-rose); }
  .stat-change { font-size: 11px; color: var(--sage); margin-top: 2px; }

  .order-admin-item {
    background: var(--card); border-radius: var(--radius-sm);
    padding: 14px 16px; margin: 0 16px 10px;
    border: 1px solid var(--border); box-shadow: var(--shadow);
    display: flex; align-items: center; gap: 12px;
  }

  .order-num { font-size: 16px; font-weight: 700; color: var(--deep-rose); }
  .order-client { font-size: 13px; font-weight: 500; }
  .order-detail { font-size: 12px; color: var(--muted); }
  .order-status-badge {
    margin-left: auto; padding: 4px 10px; border-radius: 20px;
    font-size: 11px; font-weight: 600; white-space: nowrap;
  }
  .status-new { background: #e8f4fd; color: #1a7fc1; }
  .status-making { background: #fff3cd; color: #856404; }
  .status-delivery { background: #d4edda; color: #155724; }
  .status-done { background: var(--blush); color: var(--deep-rose); }

  /* TABS */
  .tabs {
    display: flex; gap: 0; margin: 0 16px 20px;
    background: var(--blush); border-radius: var(--radius-sm);
    padding: 4px; overflow-x: auto;
  }

  .tab {
    flex: 1; padding: 9px 12px; border-radius: 9px;
    border: none; background: transparent; cursor: pointer;
    font-family: 'DM Sans', sans-serif; font-size: 13px; font-weight: 500;
    color: var(--muted); transition: all 0.2s; white-space: nowrap;
  }

  .tab.active { background: var(--card); color: var(--deep-rose); box-shadow: var(--shadow); }

  /* MINI CHART */
  .mini-chart {
    height: 80px; margin: 8px 0;
    display: flex; align-items: flex-end; gap: 4px;
  }

  .bar {
    flex: 1; background: var(--rose); border-radius: 4px 4px 0 0;
    opacity: 0.7; transition: opacity 0.2s; cursor: pointer;
  }

  .bar:hover { opacity: 1; }

  /* FILTERS */
  .filter-chips {
    display: flex; gap: 8px; overflow-x: auto;
    padding: 0 16px 16px; scrollbar-width: none;
  }
  .filter-chips::-webkit-scrollbar { display: none; }

  .chip {
    padding: 7px 14px; border-radius: 20px;
    border: 1.5px solid var(--border); background: var(--card);
    font-size: 12px; font-weight: 500; cursor: pointer;
    white-space: nowrap; color: var(--muted);
    transition: all 0.2s;
  }

  .chip.active {
    background: var(--deep-rose); border-color: var(--deep-rose);
    color: white;
  }

  /* TOAST */
  .toast {
    position: fixed; top: 20px; left: 50%; transform: translateX(-50%) translateY(-80px);
    background: var(--ink); color: var(--cream);
    padding: 12px 20px; border-radius: 20px;
    font-size: 13px; font-weight: 500;
    z-index: 1000; transition: transform 0.3s ease;
    white-space: nowrap;
  }

  .toast.show { transform: translateX(-50%) translateY(0); }

  /* AI SECTION */
  .ai-card {
    margin: 16px; background: linear-gradient(135deg, #2a1f1f, #4a2a30);
    border-radius: var(--radius); padding: 20px;
    color: white; position: relative; overflow: hidden;
  }

  .ai-card::before {
    content: 'ü§ñ';
    position: absolute; right: 20px; top: 50%; transform: translateY(-50%);
    font-size: 48px; opacity: 0.4;
  }

  .ai-title { font-family: 'Cormorant Garamond', serif; font-size: 20px; font-weight: 600; margin-bottom: 6px; }
  .ai-sub { font-size: 13px; opacity: 0.7; margin-bottom: 16px; }

  .mood-grid {
    display: grid; grid-template-columns: repeat(3, 1fr);
    gap: 8px; margin: 16px; 
  }

  .mood-btn {
    background: var(--card); border-radius: var(--radius-sm);
    padding: 14px 8px; text-align: center;
    cursor: pointer; border: 2px solid transparent;
    transition: all 0.2s; box-shadow: var(--shadow);
  }

  .mood-btn.selected { border-color: var(--rose); background: var(--blush); }
  .mood-emoji { font-size: 28px; margin-bottom: 6px; }
  .mood-label { font-size: 12px; font-weight: 500; }

  /* DELIVERY TIME */
  .time-slots {
    display: grid; grid-template-columns: repeat(3, 1fr);
    gap: 8px; margin: 0 16px;
  }

  .time-slot {
    padding: 10px; border-radius: var(--radius-sm);
    border: 1.5px solid var(--border); background: var(--card);
    text-align: center; cursor: pointer;
    font-size: 12px; font-weight: 500;
    transition: all 0.2s;
  }

  .time-slot.selected { border-color: var(--rose); background: var(--blush); color: var(--deep-rose); }

  /* PRODUCT DETAIL */
  .product-detail-img {
    width: 100%; aspect-ratio: 4/3;
    background: var(--blush);
    display: flex; align-items: center; justify-content: center;
    font-size: 100px; position: relative;
  }

  /* EMPTY STATE */
  .empty-state {
    text-align: center; padding: 60px 20px;
  }

  .empty-emoji { font-size: 64px; margin-bottom: 16px; animation: float 3s ease-in-out infinite; }
  .empty-title { font-family: 'Cormorant Garamond', serif; font-size: 22px; font-weight: 600; margin-bottom: 8px; }
  .empty-sub { font-size: 14px; color: var(--muted); }

  /* PROMO BANNER */
  .promo-card {
    margin: 12px 16px; background: linear-gradient(135deg, var(--sage), #5a7a5a);
    border-radius: var(--radius-sm); padding: 14px 16px;
    display: flex; align-items: center; gap: 12px; color: white;
  }

  .promo-card .promo-icon { font-size: 28px; }
  .promo-card .promo-text { font-size: 13px; font-weight: 500; }
  .promo-card .promo-sub { font-size: 11px; opacity: 0.8; }

  /* FLORIST CHAT BTN */
  .florist-btn {
    margin: 16px; display: flex; align-items: center; gap: 12px;
    background: var(--card); border-radius: var(--radius-sm);
    padding: 14px 16px; cursor: pointer;
    border: 1px solid var(--border); box-shadow: var(--shadow);
  }

  .florist-avatar { font-size: 32px; }
  .florist-text { font-size: 14px; font-weight: 500; }
  .florist-sub { font-size: 12px; color: var(--muted); }
  .florist-arrow { margin-left: auto; font-size: 18px; color: var(--muted); }

  /* TOGGLE */
  .toggle-wrap { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; }
  .toggle-label { font-size: 14px; font-weight: 500; }
  .toggle { position: relative; width: 44px; height: 26px; }
  .toggle input { opacity: 0; width: 0; height: 0; }
  .toggle-slider {
    position: absolute; inset: 0; background: var(--border);
    border-radius: 13px; cursor: pointer; transition: 0.3s;
  }
  .toggle-slider::before {
    content: '';
    position: absolute; left: 3px; top: 3px;
    width: 20px; height: 20px; border-radius: 50%;
    background: white; transition: 0.3s;
  }
  input:checked + .toggle-slider { background: var(--rose); }
  input:checked + .toggle-slider::before { transform: translateX(18px); }

  /* SCROLL HELPERS */
  .scroll-x { display: flex; gap: 12px; overflow-x: auto; padding: 0 16px 4px; scrollbar-width: none; }
  .scroll-x::-webkit-scrollbar { display: none; }

  .featured-card {
    min-width: 140px; background: var(--card);
    border-radius: var(--radius); overflow: hidden;
    box-shadow: var(--shadow); border: 1px solid var(--border);
    cursor: pointer; transition: all 0.2s; flex-shrink: 0;
  }

  .featured-card:active { transform: scale(0.96); }
  .featured-img { height: 110px; background: var(--blush); display: flex; align-items: center; justify-content: center; font-size: 50px; }
  .featured-name { font-size: 13px; font-weight: 600; padding: 8px 10px 2px; }
  .featured-price { font-size: 12px; color: var(--deep-rose); font-weight: 600; padding: 0 10px 10px; }

  /* REMINDER CARD */
  .reminder-card {
    display: flex; align-items: center; gap: 12px;
    background: var(--card); border-radius: var(--radius-sm);
    padding: 14px 16px; margin: 0 16px 10px;
    border: 1px solid var(--border);
  }

  .reminder-icon { font-size: 28px; }
  .reminder-date { font-size: 12px; color: var(--muted); }
  .reminder-name { font-size: 14px; font-weight: 500; }
  .reminder-days { margin-left: auto; font-size: 12px; color: var(--deep-rose); font-weight: 600; }

  /* DIVIDER */
  .divider { height: 1px; background: var(--border); margin: 12px 16px; }

  /* SECTION HEADER */
  .section-header {
    display: flex; align-items: center; justify-content: space-between;
    padding: 20px 20px 12px;
  }

  .section-header-title {
    font-family: 'Cormorant Garamond', serif;
    font-size: 20px; font-weight: 600;
  }

  .see-all {
    font-size: 13px; color: var(--rose); font-weight: 500;
    cursor: pointer;
  }

  /* PROFILE */
  .profile-header {
    background: linear-gradient(135deg, var(--rose), var(--deep-rose));
    padding: 32px 20px 28px; text-align: center; color: white;
  }

  .profile-avatar {
    width: 72px; height: 72px; border-radius: 50%;
    background: rgba(255,255,255,0.25);
    display: flex; align-items: center; justify-content: center;
    font-size: 36px; margin: 0 auto 12px;
  }

  .profile-name { font-family: 'Cormorant Garamond', serif; font-size: 22px; font-weight: 600; }
  .profile-sub { font-size: 13px; opacity: 0.8; margin-top: 4px; }

  .profile-stats {
    display: grid; grid-template-columns: repeat(3, 1fr);
    gap: 0; background: var(--card);
    border-bottom: 1px solid var(--border);
  }

  .profile-stat {
    padding: 16px; text-align: center;
    border-right: 1px solid var(--border);
  }

  .profile-stat:last-child { border-right: none; }
  .profile-stat-val { font-family: 'Cormorant Garamond', serif; font-size: 22px; font-weight: 600; color: var(--deep-rose); }
  .profile-stat-label { font-size: 11px; color: var(--muted); }

  .menu-item {
    display: flex; align-items: center; gap: 14px;
    padding: 16px 20px; cursor: pointer;
    border-bottom: 1px solid var(--border);
    transition: background 0.2s;
  }

  .menu-item:active { background: var(--blush); }
  .menu-icon { font-size: 20px; width: 28px; text-align: center; }
  .menu-text { font-size: 14px; font-weight: 500; }
  .menu-arrow { margin-left: auto; font-size: 16px; color: var(--muted); }

  /* SHIMMER */
  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }

  .shimmer {
    background: linear-gradient(90deg, var(--blush) 25%, var(--cream) 50%, var(--blush) 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }
</style>
</head>
<body>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<!-- SCREENS -->

<!-- HOME -->
<div class="screen active" id="screen-home">
  <div class="topbar">
    <div class="topbar-logo">Bloom<span>Go</span> üå∏</div>
    <div class="topbar-actions">
      <button class="icon-btn" onclick="toggleTheme()">üåô</button>
      <button class="icon-btn" onclick="goTo('admin')">üë®‚Äçüíº</button>
    </div>
  </div>

  <!-- HERO -->
  <div class="hero-banner" onclick="showToast('üéÅ –°–∫–∏–¥–∫–∞ 20% –Ω–∞ –ø–µ—Ä–≤—ã–π –∑–∞–∫–∞–∑!')">
    <div class="banner-tag">‚ö° –ì–æ—Ä—è—á–∞—è –∞–∫—Ü–∏—è</div>
    <div class="banner-title">–î–æ—Å—Ç–∞–≤–∏–º<br>–∑–∞ 60 –º–∏–Ω—É—Ç</div>
    <div class="banner-sub">–°–≤–µ–∂–∏–µ —Ü–≤–µ—Ç—ã –ø—Ä—è–º–æ –æ—Ç —Ñ–ª–æ—Ä–∏—Å—Ç–∞</div>
    <div class="banner-timer">
      <div class="timer-dot"></div>
      –£—Å–ø–µ–µ–º –¥–æ 20:00 ¬∑ –æ—Å—Ç–∞–ª–æ—Å—å 2:14:33
    </div>
  </div>

  <!-- PROMO -->
  <div class="promo-card">
    <div class="promo-icon">üéÅ</div>
    <div>
      <div class="promo-text">–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –æ—Ç–∫—Ä—ã—Ç–∫–∞</div>
      <div class="promo-sub">–ö –∫–∞–∂–¥–æ–º—É –∑–∞–∫–∞–∑—É –æ—Ç 1500 ‚ÇΩ</div>
    </div>
  </div>

  <!-- CATS -->
  <div class="section-header">
    <div class="section-header-title">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</div>
  </div>
  <div class="cats">
    <div class="cat-item active" onclick="filterCat(this, 'all')">
      <div class="cat-emoji">üíê</div>
      <div class="cat-name">–ë—É–∫–µ—Ç—ã</div>
    </div>
    <div class="cat-item" onclick="filterCat(this, 'roses')">
      <div class="cat-emoji">üåπ</div>
      <div class="cat-name">–†–æ–∑—ã</div>
    </div>
    <div class="cat-item" onclick="filterCat(this, 'gifts')">
      <div class="cat-emoji">üéÅ</div>
      <div class="cat-name">–ù–∞–±–æ—Ä—ã</div>
    </div>
    <div class="cat-item" onclick="filterCat(this, 'comp')">
      <div class="cat-emoji">üïØ</div>
      <div class="cat-name">–ö–æ–º–ø–æ–∑.</div>
    </div>
  </div>

  <!-- FILTERS -->
  <div style="padding-top:16px;">
    <div class="filter-chips">
      <div class="chip active">–í—Å–µ</div>
      <div class="chip" onclick="chipToggle(this)">–î–æ 1000 ‚ÇΩ</div>
      <div class="chip" onclick="chipToggle(this)">–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è</div>
      <div class="chip" onclick="chipToggle(this)">–°–≤–∏–¥–∞–Ω–∏–µ</div>
      <div class="chip" onclick="chipToggle(this)">–°–≤–∞–¥—å–±–∞</div>
      <div class="chip" onclick="chipToggle(this)">–°—Ä–æ—á–Ω–∞—è</div>
    </div>
  </div>

  <!-- AI CARD -->
  <div class="ai-card" onclick="goTo('ai')">
    <div class="ai-title">AI-–ø–æ–¥–±–æ—Ä –±—É–∫–µ—Ç–∞</div>
    <div class="ai-sub">–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–∏ ‚Äî –ø–æ–¥–±–µ—Ä—ë–º –∏–¥–µ–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç</div>
    <button class="btn-primary" style="margin:0;width:auto;padding:10px 20px;display:inline-block;" onclick="goTo('ai')">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å ‚Üí</button>
  </div>

  <!-- POPULAR -->
  <div class="section-header">
    <div class="section-header-title">–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ</div>
    <div class="see-all" onclick="goTo('catalog')">–í—Å–µ ‚Üí</div>
  </div>

  <div class="scroll-x" id="featured-scroll">
    <div class="featured-card" onclick="openProduct(0)">
      <div class="featured-img">üåπ</div>
      <div class="featured-name">–†–æ—Å–∫–æ—à—å —Ä–æ–∑</div>
      <div class="featured-price">2 490 ‚ÇΩ</div>
    </div>
    <div class="featured-card" onclick="openProduct(1)">
      <div class="featured-img">üå∑</div>
      <div class="featured-name">–ü–∏–æ–Ω—ã –º–µ—á—Ç—ã</div>
      <div class="featured-price">3 100 ‚ÇΩ</div>
    </div>
    <div class="featured-card" onclick="openProduct(2)">
      <div class="featured-img">üíê</div>
      <div class="featured-name">–í–µ—Å–µ–Ω–Ω–∏–π –º–∏–∫—Å</div>
      <div class="featured-price">1 800 ‚ÇΩ</div>
    </div>
    <div class="featured-card" onclick="openProduct(3)">
      <div class="featured-img">üå∏</div>
      <div class="featured-name">–°–∞–∫—É—Ä–∞</div>
      <div class="featured-price">2 200 ‚ÇΩ</div>
    </div>
  </div>

  <!-- FLORIST -->
  <div class="florist-btn" onclick="showToast('üí¨ –û—Ç–∫—Ä—ã–≤–∞–µ–º —á–∞—Ç —Å —Ñ–ª–æ—Ä–∏—Å—Ç–æ–º...')">
    <div class="florist-avatar">üë©‚Äçüåæ</div>
    <div>
      <div class="florist-text">–°–≤—è–∑–∞—Ç—å—Å—è —Å —Ñ–ª–æ—Ä–∏—Å—Ç–æ–º</div>
      <div class="florist-sub">–û–Ω–ª–∞–π–Ω ¬∑ –æ—Ç–≤–µ—Ç–∏–º –∑–∞ 5 –º–∏–Ω—É—Ç</div>
    </div>
    <div class="florist-arrow">‚Ä∫</div>
  </div>

  <!-- CATALOG -->
  <div class="section-header">
    <div class="section-header-title">–ö–∞—Ç–∞–ª–æ–≥</div>
  </div>

  <div class="products-grid" id="catalog-grid">
    <div class="product-card" onclick="openProduct(0)">
      <div class="product-img" style="background: linear-gradient(135deg, #ffe0e8, #ffd0d8);">
        <span class="product-img-emoji">üåπ</span>
        <div class="badge badge-hit">–•–∏—Ç</div>
        <button class="wishlist-btn" onclick="event.stopPropagation();toggleWish(this)">ü§ç</button>
      </div>
      <div class="product-info">
        <div class="product-name">–†–æ—Å–∫–æ—à—å —Ä–æ–∑</div>
        <div class="product-desc">25 –∞–ª—ã—Ö —Ä–æ–∑ –≤ –∫—Ä–∞—Ñ—Ç–µ</div>
        <div class="product-footer">
          <div>
            <div class="product-price">2 490 ‚ÇΩ</div>
            <div class="product-old-price">2 990 ‚ÇΩ</div>
          </div>
          <button class="add-btn" onclick="event.stopPropagation();addToCart('–†–æ—Å–∫–æ—à—å —Ä–æ–∑', 2490)">+</button>
        </div>
      </div>
    </div>

    <div class="product-card" onclick="openProduct(1)">
      <div class="product-img" style="background: linear-gradient(135deg, #ffe8f0, #ffd8ec);">
        <span class="product-img-emoji">üå∑</span>
        <div class="badge badge-new">–ù–æ–≤—ã–π</div>
        <button class="wishlist-btn" onclick="event.stopPropagation();toggleWish(this)">ü§ç</button>
      </div>
      <div class="product-info">
        <div class="product-name">–ü–∏–æ–Ω—ã –º–µ—á—Ç—ã</div>
        <div class="product-desc">15 –ø–∏–æ–Ω–æ–≤ + —ç–≤–∫–∞–ª–∏–ø—Ç</div>
        <div class="product-footer">
          <div><div class="product-price">3 100 ‚ÇΩ</div></div>
          <button class="add-btn" onclick="event.stopPropagation();addToCart('–ü–∏–æ–Ω—ã –º–µ—á—Ç—ã', 3100)">+</button>
        </div>
      </div>
    </div>

    <div class="product-card" onclick="openProduct(2)">
      <div class="product-img" style="background: linear-gradient(135deg, #e8f5e9, #d8eeda);">
        <span class="product-img-emoji">üíê</span>
        <div class="badge badge-sale">‚àí20%</div>
        <button class="wishlist-btn" onclick="event.stopPropagation();toggleWish(this)">ü§ç</button>
      </div>
      <div class="product-info">
        <div class="product-name">–í–µ—Å–µ–Ω–Ω–∏–π –º–∏–∫—Å</div>
        <div class="product-desc">–†–æ–º–∞—à–∫–∏, —Ö—Ä–∏–∑–∞–Ω—Ç–µ–º—ã</div>
        <div class="product-footer">
          <div>
            <div class="product-price">1 800 ‚ÇΩ</div>
            <div class="product-old-price">2 250 ‚ÇΩ</div>
          </div>
          <button class="add-btn" onclick="event.stopPropagation();addToCart('–í–µ—Å–µ–Ω–Ω–∏–π –º–∏–∫—Å', 1800)">+</button>
        </div>
      </div>
    </div>

    <div class="product-card" onclick="openProduct(3)">
      <div class="product-img" style="background: linear-gradient(135deg, #fce4ec, #f8bbd9);">
        <span class="product-img-emoji">üå∏</span>
        <div class="badge badge-limited">Limited</div>
        <button class="wishlist-btn" onclick="event.stopPropagation();toggleWish(this)">ü§ç</button>
      </div>
      <div class="product-info">
        <div class="product-name">–°–∞–∫—É—Ä–∞</div>
        <div class="product-desc">–Ø–ø–æ–Ω—Å–∫–∞—è –∫–æ–º–ø–æ–∑–∏—Ü–∏—è</div>
        <div class="product-footer">
          <div><div class="product-price">2 200 ‚ÇΩ</div></div>
          <button class="add-btn" onclick="event.stopPropagation();addToCart('–°–∞–∫—É—Ä–∞', 2200)">+</button>
        </div>
      </div>
    </div>

    <div class="product-card" onclick="openProduct(4)">
      <div class="product-img" style="background: linear-gradient(135deg, #fff9e0, #fff3d0);">
        <span class="product-img-emoji">üåª</span>
        <button class="wishlist-btn" onclick="event.stopPropagation();toggleWish(this)">ü§ç</button>
      </div>
      <div class="product-info">
        <div class="product-name">–°–æ–ª–Ω–µ—á–Ω—ã–π</div>
        <div class="product-desc">7 –ø–æ–¥—Å–æ–ª–Ω—É—Ö–æ–≤</div>
        <div class="product-footer">
          <div><div class="product-price">1 400 ‚ÇΩ</div></div>
          <button class="add-btn" onclick="event.stopPropagation();addToCart('–°–æ–ª–Ω–µ—á–Ω—ã–π', 1400)">+</button>
        </div>
      </div>
    </div>

    <div class="product-card" onclick="openProduct(5)">
      <div class="product-img" style="background: linear-gradient(135deg, #ede7f6, #d1c4e9);">
        <span class="product-img-emoji">üíú</span>
        <div class="badge badge-new">–ù–æ–≤—ã–π</div>
        <button class="wishlist-btn" onclick="event.stopPropagation();toggleWish(this)">ü§ç</button>
      </div>
      <div class="product-info">
        <div class="product-name">–õ–∞–≤–∞–Ω–¥–æ–≤—ã–π —Å–æ–Ω</div>
        <div class="product-desc">–õ–∞–≤–∞–Ω–¥–∞ + –º–∞—Ç—Ç–∏–æ–ª–∞</div>
        <div class="product-footer">
          <div><div class="product-price">2 800 ‚ÇΩ</div></div>
          <button class="add-btn" onclick="event.stopPropagation();addToCart('–õ–∞–≤–∞–Ω–¥–æ–≤—ã–π —Å–æ–Ω', 2800)">+</button>
        </div>
      </div>
    </div>
  </div>

  <div style="height:16px;"></div>
</div>

<!-- PRODUCT DETAIL -->
<div class="screen" id="screen-product">
  <div style="position:relative;">
    <div class="product-detail-img" id="product-detail-img">
      <span id="product-detail-emoji" style="font-size:100px;filter:drop-shadow(0 16px 32px rgba(176,94,101,0.3));">üåπ</span>
    </div>
    <button class="icon-btn" style="position:absolute;top:16px;left:16px;" onclick="goBack()">‚Üê</button>
    <button class="wishlist-btn" style="position:absolute;top:16px;right:16px;width:40px;height:40px;" onclick="toggleWish(this)">ü§ç</button>
  </div>

  <div style="padding:24px 20px 12px;">
    <div style="display:flex;align-items:flex-start;justify-content:space-between;gap:12px;">
      <div>
        <div class="badge badge-hit" style="position:static;margin-bottom:8px;">–•–∏—Ç –ø—Ä–æ–¥–∞–∂</div>
        <div style="font-family:'Cormorant Garamond',serif;font-size:28px;font-weight:600;" id="product-detail-name">–†–æ—Å–∫–æ—à—å —Ä–æ–∑</div>
      </div>
      <div style="text-align:right;">
        <div style="font-size:24px;font-weight:700;color:var(--deep-rose);" id="product-detail-price">2 490 ‚ÇΩ</div>
        <div style="font-size:13px;color:var(--muted);text-decoration:line-through;">2 990 ‚ÇΩ</div>
      </div>
    </div>
  </div>

  <div style="padding:0 20px 16px;font-size:14px;color:var(--muted);line-height:1.6;" id="product-detail-desc">
    25 –∞–ª—ã—Ö —Ä–æ–∑ –ø—Ä–µ–º–∏–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –≤ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ–º –∫—Ä–∞—Ñ—Ç-–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏. –í—ã—Å–æ—Ç–∞ —Ü–≤–µ—Ç–æ–≤ 60‚Äì70 —Å–º. –°–≤–µ–∂–µ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ 7 –¥–Ω–µ–π.
  </div>

  <div class="divider"></div>

  <div style="padding:16px 20px;">
    <div style="font-size:13px;font-weight:600;margin-bottom:12px;text-transform:uppercase;letter-spacing:0.5px;">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</div>
    <div class="qty-control" style="justify-content:flex-start;gap:16px;">
      <button class="qty-btn" style="width:36px;height:36px;" onclick="changeQty(-1)">‚àí</button>
      <span class="qty-num" id="detail-qty" style="font-size:18px;font-weight:600;">1</span>
      <button class="qty-btn" style="width:36px;height:36px;" onclick="changeQty(1)">+</button>
    </div>
  </div>

  <div class="divider"></div>

  <div style="padding:16px 20px;">
    <div style="display:flex;gap:12px;font-size:13px;">
      <div style="flex:1;background:var(--blush);border-radius:var(--radius-sm);padding:12px;text-align:center;">
        <div>üì∏</div>
        <div style="margin-top:4px;font-weight:500;">–§–æ—Ç–æ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π</div>
      </div>
      <div style="flex:1;background:var(--blush);border-radius:var(--radius-sm);padding:12px;text-align:center;">
        <div>‚ö°</div>
        <div style="margin-top:4px;font-weight:500;">–î–æ—Å—Ç–∞–≤–∫–∞ 60 –º–∏–Ω</div>
      </div>
      <div style="flex:1;background:var(--blush);border-radius:var(--radius-sm);padding:12px;text-align:center;">
        <div>üéÅ</div>
        <div style="margin-top:4px;font-weight:500;">–û—Ç–∫—Ä—ã—Ç–∫–∞ –≤ –ø–æ–¥–∞—Ä–æ–∫</div>
      </div>
    </div>
  </div>

  <button class="btn-primary" onclick="addCurrentProduct()">–í –∫–æ—Ä–∑–∏–Ω—É ¬∑ <span id="detail-total-price">2 490 ‚ÇΩ</span></button>
</div>

<!-- CATALOG -->
<div class="screen" id="screen-catalog">
  <div class="topbar">
    <button class="icon-btn" onclick="goBack()">‚Üê</button>
    <div style="font-family:'Cormorant Garamond',serif;font-size:20px;font-weight:600;">–ö–∞—Ç–∞–ª–æ–≥</div>
    <button class="icon-btn">üîç</button>
  </div>
  <div style="height:16px;"></div>
  <div class="filter-chips">
    <div class="chip active">–í—Å–µ</div>
    <div class="chip" onclick="chipToggle(this)">–†–æ–∑—ã</div>
    <div class="chip" onclick="chipToggle(this)">–ü–∏–æ–Ω—ã</div>
    <div class="chip" onclick="chipToggle(this)">–ú–∏–∫—Å</div>
    <div class="chip" onclick="chipToggle(this)">–î–æ 2000 ‚ÇΩ</div>
  </div>
  <div class="products-grid">
    <div class="product-card"><div class="product-img" style="background:linear-gradient(135deg,#ffe0e8,#ffd0d8)"><span class="product-img-emoji">üåπ</span><div class="badge badge-hit">–•–∏—Ç</div></div><div class="product-info"><div class="product-name">–†–æ—Å–∫–æ—à—å —Ä–æ–∑</div><div class="product-desc">25 –∞–ª—ã—Ö —Ä–æ–∑</div><div class="product-footer"><div><div class="product-price">2 490 ‚ÇΩ</div></div><button class="add-btn" onclick="addToCart('–†–æ—Å–∫–æ—à—å —Ä–æ–∑',2490)">+</button></div></div></div>
    <div class="product-card"><div class="product-img" style="background:linear-gradient(135deg,#ffe8f0,#ffd8ec)"><span class="product-img-emoji">üå∑</span><div class="badge badge-new">–ù–æ–≤—ã–π</div></div><div class="product-info"><div class="product-name">–ü–∏–æ–Ω—ã –º–µ—á—Ç—ã</div><div class="product-desc">15 –ø–∏–æ–Ω–æ–≤</div><div class="product-footer"><div><div class="product-price">3 100 ‚ÇΩ</div></div><button class="add-btn" onclick="addToCart('–ü–∏–æ–Ω—ã –º–µ—á—Ç—ã',3100)">+</button></div></div></div>
    <div class="product-card"><div class="product-img" style="background:linear-gradient(135deg,#e8f5e9,#d8eeda)"><span class="product-img-emoji">üíê</span><div class="badge badge-sale">‚àí20%</div></div><div class="product-info"><div class="product-name">–í–µ—Å–µ–Ω–Ω–∏–π –º–∏–∫—Å</div><div class="product-desc">–†–æ–º–∞—à–∫–∏</div><div class="product-footer"><div><div class="product-price">1 800 ‚ÇΩ</div></div><button class="add-btn" onclick="addToCart('–í–µ—Å–µ–Ω–Ω–∏–π –º–∏–∫—Å',1800)">+</button></div></div></div>
    <div class="product-card"><div class="product-img" style="background:linear-gradient(135deg,#fff9e0,#fff3d0)"><span class="product-img-emoji">üåª</span></div><div class="product-info"><div class="product-name">–°–æ–ª–Ω–µ—á–Ω—ã–π</div><div class="product-desc">7 –ø–æ–¥—Å–æ–ª–Ω—É—Ö–æ–≤</div><div class="product-footer"><div><div class="product-price">1 400 ‚ÇΩ</div></div><button class="add-btn" onclick="addToCart('–°–æ–ª–Ω–µ—á–Ω—ã–π',1400)">+</button></div></div></div>
  </div>
  <div style="height:16px;"></div>
</div>

<!-- CART -->
<div class="screen" id="screen-cart">
  <div class="topbar">
    <div style="font-family:'Cormorant Garamond',serif;font-size:22px;font-weight:600;">–ö–æ—Ä–∑–∏–Ω–∞</div>
    <button class="icon-btn" onclick="clearCart()">üóë</button>
  </div>

  <div id="cart-content">
    <div class="empty-state" id="cart-empty">
      <div class="empty-emoji">üõí</div>
      <div class="empty-title">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</div>
      <div class="empty-sub">–î–æ–±–∞–≤—å—Ç–µ —Ü–≤–µ—Ç—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞</div>
      <button class="btn-primary" style="width:auto;margin:24px auto;display:inline-block;padding:12px 28px;" onclick="goTo('home')">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥</button>
    </div>
    <div id="cart-items"></div>
    <div id="cart-summary" style="display:none;">
      <div class="promo-wrap">
        <input class="promo-input" placeholder="–ü—Ä–æ–º–æ–∫–æ–¥" id="promo-input">
        <button class="btn-primary" style="margin:0;width:auto;padding:12px 16px;" onclick="applyPromo()">‚Üí</button>
      </div>

      <div class="order-box">
        <div class="order-row"><span class="label">–¢–æ–≤–∞—Ä—ã</span><span class="val" id="subtotal">0 ‚ÇΩ</span></div>
        <div class="order-row"><span class="label">–î–æ—Å—Ç–∞–≤–∫–∞</span><span class="val" style="color:var(--sage);">–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</span></div>
        <div class="order-row"><span class="label">–°–∫–∏–¥–∫–∞</span><span class="val" style="color:var(--sage);" id="discount-row">‚Äî</span></div>
        <div class="order-row total"><span>–ò—Ç–æ–≥–æ</span><span class="val" id="total-price">0 ‚ÇΩ</span></div>
      </div>

      <div class="section-header">
        <div class="section-header-title">–í—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏</div>
      </div>
      <div class="time-slots" id="time-slots">
        <div class="time-slot selected" onclick="selectTime(this)">–°–µ–π—á–∞—Å<br>60 –º–∏–Ω</div>
        <div class="time-slot" onclick="selectTime(this)">14:00‚Äì16:00</div>
        <div class="time-slot" onclick="selectTime(this)">16:00‚Äì18:00</div>
        <div class="time-slot" onclick="selectTime(this)">18:00‚Äì20:00</div>
        <div class="time-slot" onclick="selectTime(this)">–ó–∞–≤—Ç—Ä–∞<br>10:00</div>
        <div class="time-slot" onclick="selectTime(this)">–í—ã–±—Ä–∞—Ç—å</div>
      </div>
      <div style="height:16px;"></div>

      <div class="field">
        <label>–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏ üìç</label>
        <input type="text" placeholder="—É–ª. –ü—É—à–∫–∏–Ω–∞, –¥. 10, –∫–≤. 5">
      </div>

      <div class="field">
        <label>–¢–µ–∫—Å—Ç –æ—Ç–∫—Ä—ã—Ç–∫–∏ üíå</label>
        <textarea placeholder="–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! –ñ–µ–ª–∞—é..."></textarea>
      </div>

      <div class="field">
        <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫—É—Ä—å–µ—Ä—É</label>
        <input type="text" placeholder="–ü–æ–∑–≤–æ–Ω–∏—Ç—å –∑–∞ 15 –º–∏–Ω—É—Ç">
      </div>

      <div class="toggle-wrap">
        <div>
          <div class="toggle-label">üì∏ –§–æ—Ç–æ –±—É–∫–µ—Ç–∞ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π</div>
        </div>
        <label class="toggle"><input type="checkbox" checked><span class="toggle-slider"></span></label>
      </div>

      <button class="btn-primary" onclick="goTo('checkout')">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ ‚Üí</button>
    </div>
  </div>
</div>

<!-- CHECKOUT -->
<div class="screen" id="screen-checkout">
  <div class="topbar">
    <button class="icon-btn" onclick="goBack()">‚Üê</button>
    <div style="font-family:'Cormorant Garamond',serif;font-size:20px;font-weight:600;">–û–ø–ª–∞—Ç–∞</div>
    <div></div>
  </div>

  <div style="padding:20px 20px 12px;">
    <div style="font-family:'Cormorant Garamond',serif;font-size:24px;font-weight:600;margin-bottom:4px;">–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ</div>
    <div style="font-size:32px;font-weight:700;color:var(--deep-rose);" id="checkout-total">5 390 ‚ÇΩ</div>
  </div>

  <div class="divider"></div>

  <div class="field" style="padding-top:16px;">
    <label>–ò–º—è –ø–æ–ª—É—á–∞—Ç–µ–ª—è</label>
    <input type="text" placeholder="–ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–∞">
  </div>

  <div class="field">
    <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
    <input type="tel" placeholder="+7 (999) 000-00-00">
  </div>

  <div class="divider"></div>

  <div style="padding:16px 20px 12px;">
    <div style="font-size:13px;font-weight:600;margin-bottom:12px;text-transform:uppercase;letter-spacing:0.5px;">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</div>
  </div>

  <div style="margin:0 16px;display:grid;gap:10px;">
    <div style="background:var(--card);border-radius:var(--radius-sm);padding:16px;border:2px solid var(--rose);display:flex;align-items:center;gap:12px;cursor:pointer;">
      <span style="font-size:24px;">‚úàÔ∏è</span>
      <div>
        <div style="font-weight:600;font-size:14px;">Telegram Pay</div>
        <div style="font-size:12px;color:var(--muted);">–ë—ã—Å—Ç—Ä–∞—è –æ–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ Telegram</div>
      </div>
      <div style="margin-left:auto;width:18px;height:18px;border-radius:50%;background:var(--rose);"></div>
    </div>
    <div style="background:var(--card);border-radius:var(--radius-sm);padding:16px;border:1.5px solid var(--border);display:flex;align-items:center;gap:12px;cursor:pointer;">
      <span style="font-size:24px;">üí≥</span>
      <div>
        <div style="font-weight:600;font-size:14px;">–ö–∞—Ä—Ç–∞</div>
        <div style="font-size:12px;color:var(--muted);">Visa, Mastercard, –ú–ò–†</div>
      </div>
    </div>
    <div style="background:var(--card);border-radius:var(--radius-sm);padding:16px;border:1.5px solid var(--border);display:flex;align-items:center;gap:12px;cursor:pointer;">
      <span style="font-size:24px;">üì±</span>
      <div>
        <div style="font-weight:600;font-size:14px;">Apple / Google Pay</div>
        <div style="font-size:12px;color:var(--muted);">–û–ø–ª–∞—Ç–∞ –æ–¥–Ω–∏–º –Ω–∞–∂–∞—Ç–∏–µ–º</div>
      </div>
    </div>
    <div style="background:var(--card);border-radius:var(--radius-sm);padding:16px;border:1.5px solid var(--border);display:flex;align-items:center;gap:12px;cursor:pointer;">
      <span style="font-size:24px;">üíµ</span>
      <div>
        <div style="font-weight:600;font-size:14px;">–ù–∞–ª–∏—á–Ω—ã–µ –∫—É—Ä—å–µ—Ä—É</div>
        <div style="font-size:12px;color:var(--muted);">–û–ø–ª–∞—Ç–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏</div>
      </div>
    </div>
  </div>

  <button class="btn-primary" style="margin-top:24px;" onclick="placeOrder()">–û–ø–ª–∞—Ç–∏—Ç—å üí≥</button>
</div>

<!-- SUCCESS -->
<div class="screen" id="screen-success">
  <div style="text-align:center;padding:20px;">
    <div class="success-icon">üå∏</div>
    <div style="font-family:'Cormorant Garamond',serif;font-size:28px;font-weight:600;margin-bottom:8px;">–ó–∞–∫–∞–∑ –ø—Ä–∏–Ω—è—Ç!</div>
    <div style="font-size:14px;color:var(--muted);margin-bottom:8px;">–ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞</div>
    <div style="font-size:32px;font-weight:700;color:var(--deep-rose);margin-bottom:24px;">#BG-4821</div>

    <div style="background:var(--card);border-radius:var(--radius);padding:20px;margin:0 16px;border:1px solid var(--border);text-align:left;">
      <div style="font-size:13px;font-weight:600;margin-bottom:16px;text-transform:uppercase;letter-spacing:0.5px;">–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞</div>
      <div class="status-track">
        <div class="status-step done">
          <div class="status-dot">‚úì</div>
          <div class="status-label">–ü—Ä–∏–Ω—è—Ç</div>
        </div>
        <div class="status-step active">
          <div class="status-dot">‚úÇÔ∏è</div>
          <div class="status-label">–°–æ–±–∏—Ä–∞–µ—Ç—Å—è</div>
        </div>
        <div class="status-step">
          <div class="status-dot">üöö</div>
          <div class="status-label">–í –ø—É—Ç–∏</div>
        </div>
        <div class="status-step">
          <div class="status-dot">üå∏</div>
          <div class="status-label">–î–æ—Å—Ç–∞–≤–ª–µ–Ω</div>
        </div>
      </div>
      <div style="text-align:center;font-size:13px;color:var(--muted);margin-top:8px;">–í–∞—à –±—É–∫–µ—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —Ñ–ª–æ—Ä–∏—Å—Ç–æ–º. –û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏ ‚Äî <strong>14:30‚Äì15:00</strong></div>
    </div>

    <div style="margin:16px;background:var(--blush);border-radius:var(--radius-sm);padding:16px;display:flex;gap:12px;align-items:center;">
      <span style="font-size:28px;">üì∏</span>
      <div style="font-size:13px;text-align:left;">–ú—ã –ø—Ä–∏—à–ª—ë–º —Ñ–æ—Ç–æ –±—É–∫–µ—Ç–∞<br>–ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π</div>
    </div>

    <button class="btn-primary" onclick="goTo('home');resetCart()">–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</button>
    <button class="btn-secondary" onclick="goTo('profile')">–ú–æ–∏ –∑–∞–∫–∞–∑—ã</button>
  </div>
</div>

<!-- AI PICKER -->
<div class="screen" id="screen-ai">
  <div class="topbar">
    <button class="icon-btn" onclick="goBack()">‚Üê</button>
    <div style="font-family:'Cormorant Garamond',serif;font-size:20px;font-weight:600;">AI-–ø–æ–¥–±–æ—Ä ü§ñ</div>
    <div></div>
  </div>

  <div style="padding:20px;">
    <div style="font-family:'Cormorant Garamond',serif;font-size:22px;font-weight:600;margin-bottom:8px;">–ö–∞–∫–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ?</div>
    <div style="font-size:14px;color:var(--muted);">–í—ã–±–µ—Ä–∏—Ç–µ, —á—Ç–æ–±—ã –º—ã –ø–æ–¥–æ–±—Ä–∞–ª–∏ –∏–¥–µ–∞–ª—å–Ω—ã–π –±—É–∫–µ—Ç</div>
  </div>

  <div class="mood-grid">
    <div class="mood-btn" onclick="selectMood(this)"><div class="mood-emoji">ü•∞</div><div class="mood-label">–õ—é–±–æ–≤—å</div></div>
    <div class="mood-btn" onclick="selectMood(this)"><div class="mood-emoji">üéâ</div><div class="mood-label">–ü—Ä–∞–∑–¥–Ω–∏–∫</div></div>
    <div class="mood-btn" onclick="selectMood(this)"><div class="mood-emoji">üò¢</div><div class="mood-label">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</div></div>
    <div class="mood-btn" onclick="selectMood(this)"><div class="mood-emoji">üåø</div><div class="mood-label">–°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ</div></div>
    <div class="mood-btn" onclick="selectMood(this)"><div class="mood-emoji">üî•</div><div class="mood-label">–°—Ç—Ä–∞—Å—Ç—å</div></div>
    <div class="mood-btn" onclick="selectMood(this)"><div class="mood-emoji">‚ú®</div><div class="mood-label">–í–æ—Å—Ö–∏—â–µ–Ω–∏–µ</div></div>
  </div>

  <div style="padding:20px 20px 12px;">
    <div style="font-family:'Cormorant Garamond',serif;font-size:18px;font-weight:600;margin-bottom:12px;">–ü–æ–≤–æ–¥</div>
  </div>

  <div class="filter-chips">
    <div class="chip active">–õ—é–±–æ–π</div>
    <div class="chip" onclick="chipToggle(this)">–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è</div>
    <div class="chip" onclick="chipToggle(this)">–°–≤–∏–¥–∞–Ω–∏–µ</div>
    <div class="chip" onclick="chipToggle(this)">–°–≤–∞–¥—å–±–∞</div>
    <div class="chip" onclick="chipToggle(this)">–ò–∑–≤–∏–Ω–µ–Ω–∏–µ</div>
    <div class="chip" onclick="chipToggle(this)">–ü—Ä–æ—Å—Ç–æ —Ç–∞–∫</div>
  </div>

  <div class="field">
    <label>–ë—é–¥–∂–µ—Ç</label>
    <select>
      <option>–î–æ 1 500 ‚ÇΩ</option>
      <option selected>1 500 ‚Äî 3 000 ‚ÇΩ</option>
      <option>3 000 ‚Äî 5 000 ‚ÇΩ</option>
      <option>–ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π</option>
    </select>
  </div>

  <button class="btn-primary" onclick="runAI()">‚ú® –ü–æ–¥–æ–±—Ä–∞—Ç—å –±—É–∫–µ—Ç</button>

  <div id="ai-result" style="display:none;margin:0 16px 16px;">
    <div style="font-family:'Cormorant Garamond',serif;font-size:20px;font-weight:600;margin-bottom:12px;">–ù–∞—à –≤—ã–±–æ—Ä –¥–ª—è –≤–∞—Å</div>
    <div class="product-card">
      <div class="product-img" style="background:linear-gradient(135deg,#ffe0e8,#ffd0d8);">
        <span class="product-img-emoji">üåπ</span>
        <div class="badge badge-hit">AI –≤—ã–±–æ—Ä</div>
      </div>
      <div class="product-info">
        <div class="product-name">–†–æ—Å–∫–æ—à—å —Ä–æ–∑</div>
        <div class="product-desc">–ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–µ—á–µ—Ä–∞</div>
        <div class="product-footer">
          <div><div class="product-price">2 490 ‚ÇΩ</div></div>
          <button class="add-btn" onclick="addToCart('–†–æ—Å–∫–æ—à—å —Ä–æ–∑',2490)">+</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- CONSTRUCTOR -->
<div class="screen" id="screen-constructor">
  <div class="topbar">
    <button class="icon-btn" onclick="goBack()">‚Üê</button>
    <div style="font-family:'Cormorant Garamond',serif;font-size:20px;font-weight:600;">–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</div>
    <div></div>
  </div>

  <div style="padding:16px 20px 12px;">
    <div style="font-family:'Cormorant Garamond',serif;font-size:20px;font-weight:600;margin-bottom:4px;">–í—ã–±–µ—Ä–∏—Ç–µ —Ü–≤–µ—Ç—ã</div>
    <div style="font-size:13px;color:var(--muted);">–ú–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∏–¥–æ–≤</div>
  </div>

  <div class="flower-grid">
    <div class="flower-item" onclick="toggleFlower(this)"><div class="flower-emoji">üåπ</div><div class="flower-name">–†–æ–∑–∞</div><div class="flower-price">+80 ‚ÇΩ/—à—Ç</div></div>
    <div class="flower-item selected" onclick="toggleFlower(this)"><div class="flower-emoji">üå∑</div><div class="flower-name">–ü–∏–æ–Ω</div><div class="flower-price">+120 ‚ÇΩ/—à—Ç</div></div>
    <div class="flower-item" onclick="toggleFlower(this)"><div class="flower-emoji">üå∏</div><div class="flower-name">–•—Ä–∏–∑–∞–Ω—Ç–µ–º–∞</div><div class="flower-price">+60 ‚ÇΩ/—à—Ç</div></div>
    <div class="flower-item" onclick="toggleFlower(this)"><div class="flower-emoji">üåª</div><div class="flower-name">–ü–æ–¥—Å–æ–ª–Ω—É—Ö</div><div class="flower-price">+90 ‚ÇΩ/—à—Ç</div></div>
    <div class="flower-item" onclick="toggleFlower(this)"><div class="flower-emoji">üíú</div><div class="flower-name">–õ–∞–≤–∞–Ω–¥–∞</div><div class="flower-price">+50 ‚ÇΩ/—à—Ç</div></div>
    <div class="flower-item" onclick="toggleFlower(this)"><div class="flower-emoji">üåø</div><div class="flower-name">–≠–≤–∫–∞–ª–∏–ø—Ç</div><div class="flower-price">+40 ‚ÇΩ/—à—Ç</div></div>
  </div>

  <div style="padding:20px 20px 12px;">
    <div style="font-family:'Cormorant Garamond',serif;font-size:18px;font-weight:600;">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</div>
  </div>

  <div class="qty-row">
    <div><div class="qty-row-label">–ü–∏–æ–Ω–æ–≤</div><div class="qty-row-sub">+120 ‚ÇΩ/—à—Ç</div></div>
    <div class="qty-control">
      <button class="qty-btn" onclick="this.parentElement.querySelector('.qty-num').textContent=Math.max(1,parseInt(this.parentElement.querySelector('.qty-num').textContent)-1);updateConstructorPrice()">‚àí</button>
      <span class="qty-num">5</span>
      <button class="qty-btn" onclick="this.parentElement.querySelector('.qty-num').textContent=parseInt(this.parentElement.querySelector('.qty-num').textContent)+1;updateConstructorPrice()">+</button>
    </div>
  </div>

  <div style="padding:16px 20px 12px;">
    <div style="font-family:'Cormorant Garamond',serif;font-size:18px;font-weight:600;">–£–ø–∞–∫–æ–≤–∫–∞</div>
  </div>
  <div class="package-options">
    <div class="package-opt selected" onclick="selectPackage(this)">üì¶<span>–ö—Ä–∞—Ñ—Ç +0 ‚ÇΩ</span></div>
    <div class="package-opt" onclick="selectPackage(this)">üéÄ<span>–õ–µ–Ω—Ç–∞ +150 ‚ÇΩ</span></div>
    <div class="package-opt" onclick="selectPackage(this)">üéÅ<span>–ö–æ—Ä–æ–±–∫–∞ +300 ‚ÇΩ</span></div>
  </div>

  <div style="padding:20px;background:var(--card);margin:16px;border-radius:var(--radius);border:1px solid var(--border);">
    <div style="display:flex;justify-content:space-between;align-items:center;">
      <div style="font-size:14px;color:var(--muted);">–í–∞—à –±—É–∫–µ—Ç (1 –≤–∏–¥)</div>
      <div style="font-size:22px;font-weight:700;color:var(--deep-rose);" id="constructor-price">600 ‚ÇΩ</div>
    </div>
    <div style="font-size:12px;color:var(--muted);margin-top:4px;">5 –ø–∏–æ–Ω–æ–≤ ¬∑ –ö—Ä–∞—Ñ—Ç-—É–ø–∞–∫–æ–≤–∫–∞</div>
  </div>

  <button class="btn-primary" onclick="addToCart('–ê–≤—Ç–æ—Ä—Å–∫–∏–π –±—É–∫–µ—Ç',600);showToast('üå∑ –ë—É–∫–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É!')">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
</div>

<!-- FAVORITES -->
<div class="screen" id="screen-favorites">
  <div class="topbar">
    <div style="font-family:'Cormorant Garamond',serif;font-size:22px;font-weight:600;">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</div>
  </div>
  <div class="empty-state">
    <div class="empty-emoji">‚ù§Ô∏è</div>
    <div class="empty-title">–ü–æ–∫–∞ –ø—É—Å—Ç–æ</div>
    <div class="empty-sub">–ù–∞–∂–º–∏—Ç–µ ü§ç –Ω–∞ –±—É–∫–µ—Ç–µ, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å</div>
  </div>
</div>

<!-- PROFILE -->
<div class="screen" id="screen-profile">
  <div class="profile-header">
    <div class="profile-avatar">üë§</div>
    <div class="profile-name">–ò–≤–∞–Ω–æ–≤–∞ –ú–∞—Ä–∏—è</div>
    <div class="profile-sub">@maria_ivanova ¬∑ –ö–ª–∏–µ–Ω—Ç —Å 2024</div>
  </div>

  <div class="profile-stats">
    <div class="profile-stat"><div class="profile-stat-val">12</div><div class="profile-stat-label">–ó–∞–∫–∞–∑–æ–≤</div></div>
    <div class="profile-stat"><div class="profile-stat-val">31 400 ‚ÇΩ</div><div class="profile-stat-label">–ü–æ—Ç—Ä–∞—á–µ–Ω–æ</div></div>
    <div class="profile-stat"><div class="profile-stat-val">3</div><div class="profile-stat-label">–í –∏–∑–±—Ä–∞–Ω–Ω–æ–º</div></div>
  </div>

  <div style="height:16px;"></div>

  <div style="padding:0 16px 12px;font-family:'Cormorant Garamond',serif;font-size:20px;font-weight:600;">–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è üîî</div>

  <div class="reminder-card">
    <div class="reminder-icon">üéÇ</div>
    <div><div class="reminder-name">–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è –º–∞–º—ã</div><div class="reminder-date">8 –º–∞—Ä—Ç–∞</div></div>
    <div class="reminder-days">—á–µ—Ä–µ–∑ 18 –¥–Ω</div>
  </div>
  <div class="reminder-card">
    <div class="reminder-icon">üíç</div>
    <div><div class="reminder-name">–ì–æ–¥–æ–≤—â–∏–Ω–∞</div><div class="reminder-date">14 —Ñ–µ–≤—Ä–∞–ª—è</div></div>
    <div class="reminder-days">–ø—Ä–æ—à–ª–æ</div>
  </div>

  <button class="btn-secondary" onclick="showToast('üìÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è...')">+ –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ</button>

  <div class="divider"></div>

  <div class="menu-item"><div class="menu-icon">üì¶</div><div class="menu-text">–ú–æ–∏ –∑–∞–∫–∞–∑—ã</div><div class="menu-arrow">‚Ä∫</div></div>
  <div class="menu-item"><div class="menu-icon">‚ù§Ô∏è</div><div class="menu-text">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</div><div class="menu-arrow">‚Ä∫</div></div>
  <div class="menu-item"><div class="menu-icon">üéÅ</div><div class="menu-text">–ú–æ–∏ –ø—Ä–æ–º–æ–∫–æ–¥—ã</div><div class="menu-arrow">‚Ä∫</div></div>
  <div class="menu-item" onclick="toggleTheme()"><div class="menu-icon">üåô</div><div class="menu-text">–¢—ë–º–Ω–∞—è —Ç–µ–º–∞</div><div class="menu-arrow">‚Ä∫</div></div>
  <div class="menu-item" onclick="goTo('admin')"><div class="menu-icon">üë®‚Äçüíº</div><div class="menu-text">–†–µ–∂–∏–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</div><div class="menu-arrow">‚Ä∫</div></div>

  <div style="height:16px;"></div>
</div>

<!-- ============ ADMIN ============ -->
<div class="screen admin-screen" id="screen-admin">
  <div class="topbar">
    <div style="font-family:'Cormorant Garamond',serif;font-size:20px;font-weight:600;">–ü–∞–Ω–µ–ª—å üë®‚Äçüíº</div>
    <button class="icon-btn" onclick="goTo('home')">üè†</button>
  </div>

  <div style="padding:12px 16px 0;">
    <div class="tabs">
      <button class="tab active" onclick="adminTab(this,'analytics')">üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</button>
      <button class="tab" onclick="adminTab(this,'orders')">üì¶ –ó–∞–∫–∞–∑—ã</button>
      <button class="tab" onclick="adminTab(this,'products')">üåπ –¢–æ–≤–∞—Ä—ã</button>
      <button class="tab" onclick="adminTab(this,'marketing')">üéØ –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥</button>
    </div>
  </div>

  <!-- ANALYTICS -->
  <div id="admin-analytics">
    <div class="stats-grid">
      <div class="stat-card"><div class="stat-label">–í—ã—Ä—É—á–∫–∞ —Å–µ–≥–æ–¥–Ω—è</div><div class="stat-val">48 900 ‚ÇΩ</div><div class="stat-change">‚Üë +18% –∫ –≤—á–µ—Ä–∞</div></div>
      <div class="stat-card"><div class="stat-label">–ó–∞–∫–∞–∑–æ–≤ —Å–µ–≥–æ–¥–Ω—è</div><div class="stat-val">23</div><div class="stat-change">‚Üë +5 –∫ –≤—á–µ—Ä–∞</div></div>
      <div class="stat-card"><div class="stat-label">–°—Ä–µ–¥–Ω–∏–π —á–µ–∫</div><div class="stat-val">2 126 ‚ÇΩ</div><div class="stat-change">‚Üí —Å—Ç–∞–±–∏–ª—å–Ω–æ</div></div>
      <div class="stat-card"><div class="stat-label">–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ</div><div class="stat-val">67%</div><div class="stat-change">‚Üë —Ö–æ—Ä–æ—à–æ</div></div>
    </div>

    <div style="margin:16px;background:var(--card);border-radius:var(--radius-sm);padding:16px;border:1px solid var(--border);">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
        <div style="font-weight:600;font-size:14px;">–í—ã—Ä—É—á–∫–∞ –∑–∞ 7 –¥–Ω–µ–π</div>
        <div style="font-size:12px;color:var(--muted);">‚ÇΩ</div>
      </div>
      <div class="mini-chart">
        <div class="bar" style="height:45%;"></div>
        <div class="bar" style="height:60%;"></div>
        <div class="bar" style="height:38%;"></div>
        <div class="bar" style="height:70%;"></div>
        <div class="bar" style="height:55%;"></div>
        <div class="bar" style="height:85%;"></div>
        <div class="bar" style="height:100%;background:var(--deep-rose);opacity:1;"></div>
      </div>
      <div style="display:flex;justify-content:space-between;font-size:10px;color:var(--muted);margin-top:8px;">
        <span>–ü–Ω</span><span>–í—Ç</span><span>–°—Ä</span><span>–ß—Ç</span><span>–ü—Ç</span><span>–°–±</span><span>–í—Å</span>
      </div>
    </div>

    <div style="padding:0 16px 12px;font-family:'Cormorant Garamond',serif;font-size:18px;font-weight:600;">–¢–æ–ø —Ç–æ–≤–∞—Ä—ã</div>
    <div style="margin:0 16px;background:var(--card);border-radius:var(--radius-sm);border:1px solid var(--border);overflow:hidden;">
      <div style="display:flex;align-items:center;gap:12px;padding:14px 16px;border-bottom:1px solid var(--border);">
        <span style="font-size:20px;">ü•á</span>
        <div style="flex:1;"><div style="font-weight:500;font-size:14px;">–†–æ—Å–∫–æ—à—å —Ä–æ–∑</div><div style="font-size:12px;color:var(--muted);">48 –ø—Ä–æ–¥–∞–∂</div></div>
        <div style="font-weight:600;color:var(--deep-rose);">117 700 ‚ÇΩ</div>
      </div>
      <div style="display:flex;align-items:center;gap:12px;padding:14px 16px;border-bottom:1px solid var(--border);">
        <span style="font-size:20px;">ü•à</span>
        <div style="flex:1;"><div style="font-weight:500;font-size:14px;">–ü–∏–æ–Ω—ã –º–µ—á—Ç—ã</div><div style="font-size:12px;color:var(--muted);">32 –ø—Ä–æ–¥–∞–∂–∏</div></div>
        <div style="font-weight:600;color:var(--deep-rose);">99 200 ‚ÇΩ</div>
      </div>
      <div style="display:flex;align-items:center;gap:12px;padding:14px 16px;">
        <span style="font-size:20px;">ü•â</span>
        <div style="flex:1;"><div style="font-weight:500;font-size:14px;">–í–µ—Å–µ–Ω–Ω–∏–π –º–∏–∫—Å</div><div style="font-size:12px;color:var(--muted);">29 –ø—Ä–æ–¥–∞–∂</div></div>
        <div style="font-weight:600;color:var(--deep-rose);">52 200 ‚ÇΩ</div>
      </div>
    </div>
    <div style="height:16px;"></div>
  </div>

  <!-- ORDERS -->
  <div id="admin-orders" style="display:none;">
    <div class="filter-chips" style="padding-top:8px;">
      <div class="chip active">–í—Å–µ (23)</div>
      <div class="chip" onclick="chipToggle(this)">–ù–æ–≤—ã–µ (5)</div>
      <div class="chip" onclick="chipToggle(this)">–í —Ä–∞–±–æ—Ç–µ (8)</div>
      <div class="chip" onclick="chipToggle(this)">–í –ø—É—Ç–∏ (6)</div>
      <div class="chip" onclick="chipToggle(this)">–ì–æ—Ç–æ–≤–æ (4)</div>
    </div>

    <div class="order-admin-item">
      <div>
        <div class="order-num">#4821</div>
        <div class="order-client">–ò–≤–∞–Ω–æ–≤–∞ –ú–∞—Ä–∏—è</div>
        <div class="order-detail">–†–æ—Å–∫–æ—à—å —Ä–æ–∑ ¬∑ 2 490 ‚ÇΩ ¬∑ 14:30</div>
      </div>
      <div>
        <div class="order-status-badge status-making">–°–æ–±–∏—Ä–∞–µ—Ç—Å—è</div>
        <div style="display:flex;gap:6px;margin-top:8px;">
          <button class="icon-btn" style="width:32px;height:32px;font-size:14px;" onclick="showToast('üìû –ó–≤–æ–Ω–æ–∫ –∫–ª–∏–µ–Ω—Ç—É...')">üìû</button>
          <button class="icon-btn" style="width:32px;height:32px;font-size:14px;" onclick="showToast('‚úÖ –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—ë–Ω!')">‚úÖ</button>
        </div>
      </div>
    </div>

    <div class="order-admin-item">
      <div>
        <div class="order-num">#4820</div>
        <div class="order-client">–ü–µ—Ç—Ä–æ–≤ –ê–Ω–¥—Ä–µ–π</div>
        <div class="order-detail">–ü–∏–æ–Ω—ã –º–µ—á—Ç—ã ¬∑ 3 100 ‚ÇΩ ¬∑ 13:00</div>
      </div>
      <div>
        <div class="order-status-badge status-delivery">–í –ø—É—Ç–∏</div>
        <div style="display:flex;gap:6px;margin-top:8px;">
          <button class="icon-btn" style="width:32px;height:32px;font-size:14px;" onclick="showToast('üìû –ó–≤–æ–Ω–æ–∫...')">üìû</button>
          <button class="icon-btn" style="width:32px;height:32px;font-size:14px;" onclick="showToast('‚úÖ –ì–æ—Ç–æ–≤–æ!')">‚úÖ</button>
        </div>
      </div>
    </div>

    <div class="order-admin-item">
      <div>
        <div class="order-num">#4819</div>
        <div class="order-client">–°–º–∏—Ä–Ω–æ–≤–∞ –û–ª—å–≥–∞</div>
        <div class="order-detail">–ê–≤—Ç–æ—Ä—Å–∫–∏–π –±—É–∫–µ—Ç ¬∑ 1 200 ‚ÇΩ ¬∑ 12:00</div>
      </div>
      <div>
        <div class="order-status-badge status-new">–ù–æ–≤—ã–π</div>
        <div style="display:flex;gap:6px;margin-top:8px;">
          <button class="icon-btn" style="width:32px;height:32px;font-size:14px;">üìû</button>
          <button class="icon-btn" style="width:32px;height:32px;font-size:14px;" onclick="showToast('‚úÖ –ü—Ä–∏–Ω—è—Ç –≤ —Ä–∞–±–æ—Ç—É!')">‚úÖ</button>
        </div>
      </div>
    </div>

    <div class="order-admin-item">
      <div>
        <div class="order-num">#4818</div>
        <div class="order-client">–ö–æ–∑–ª–æ–≤ –î–º–∏—Ç—Ä–∏–π</div>
        <div class="order-detail">–°–æ–ª–Ω–µ—á–Ω—ã–π ¬∑ 1 400 ‚ÇΩ ¬∑ 11:30</div>
      </div>
      <div>
        <div class="order-status-badge status-done">–î–æ—Å—Ç–∞–≤–ª–µ–Ω</div>
      </div>
    </div>
    <div style="height:16px;"></div>
  </div>

  <!-- PRODUCTS ADMIN -->
  <div id="admin-products" style="display:none;">
    <button class="btn-primary" onclick="showToast('‚ûï –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞')">+ –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</button>

    <div style="margin:0 16px;border-radius:var(--radius-sm);overflow:hidden;border:1px solid var(--border);">
      <div style="display:flex;align-items:center;gap:12px;padding:14px 16px;background:var(--card);border-bottom:1px solid var(--border);">
        <span style="font-size:28px;">üåπ</span>
        <div style="flex:1;">
          <div style="font-weight:500;font-size:14px;">–†–æ—Å–∫–æ—à—å —Ä–æ–∑</div>
          <div style="font-size:12px;color:var(--muted);">–í –Ω–∞–ª–∏—á–∏–∏ ¬∑ –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –†–æ–∑—ã</div>
        </div>
        <div style="text-align:right;">
          <div style="font-weight:600;color:var(--deep-rose);">2 490 ‚ÇΩ</div>
          <div style="display:flex;gap:4px;margin-top:4px;">
            <button class="icon-btn" style="width:28px;height:28px;font-size:12px;" onclick="showToast('‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ...')">‚úèÔ∏è</button>
            <button class="icon-btn" style="width:28px;height:28px;font-size:12px;" onclick="showToast('üëÅ –°–∫—Ä—ã—Ç!')">üëÅ</button>
          </div>
        </div>
      </div>
      <div style="display:flex;align-items:center;gap:12px;padding:14px 16px;background:var(--card);border-bottom:1px solid var(--border);">
        <span style="font-size:28px;">üå∑</span>
        <div style="flex:1;">
          <div style="font-weight:500;font-size:14px;">–ü–∏–æ–Ω—ã –º–µ—á—Ç—ã</div>
          <div style="font-size:12px;color:var(--muted);">–í –Ω–∞–ª–∏—á–∏–∏ ¬∑ –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ü–∏–æ–Ω—ã</div>
        </div>
        <div style="text-align:right;">
          <div style="font-weight:600;color:var(--deep-rose);">3 100 ‚ÇΩ</div>
          <div style="display:flex;gap:4px;margin-top:4px;">
            <button class="icon-btn" style="width:28px;height:28px;font-size:12px;">‚úèÔ∏è</button>
            <button class="icon-btn" style="width:28px;height:28px;font-size:12px;">üëÅ</button>
          </div>
        </div>
      </div>
      <div style="display:flex;align-items:center;gap:12px;padding:14px 16px;background:var(--card);">
        <span style="font-size:28px;">üíê</span>
        <div style="flex:1;">
          <div style="font-weight:500;font-size:14px;">–í–µ—Å–µ–Ω–Ω–∏–π –º–∏–∫—Å</div>
          <div style="font-size:12px;color:var(--sage);">‚ö†Ô∏è –û—Å—Ç–∞–ª–æ—Å—å 3 —à—Ç.</div>
        </div>
        <div style="text-align:right;">
          <div style="font-weight:600;color:var(--deep-rose);">1 800 ‚ÇΩ</div>
          <div style="display:flex;gap:4px;margin-top:4px;">
            <button class="icon-btn" style="width:28px;height:28px;font-size:12px;">‚úèÔ∏è</button>
            <button class="icon-btn" style="width:28px;height:28px;font-size:12px;">üëÅ</button>
          </div>
        </div>
      </div>
    </div>
    <div style="height:16px;"></div>
  </div>

  <!-- MARKETING -->
  <div id="admin-marketing" style="display:none;">
    <div style="padding:0 16px 12px;font-family:'Cormorant Garamond',serif;font-size:20px;font-weight:600;">–ü—Ä–æ–º–æ–∫–æ–¥—ã</div>

    <div style="margin:0 16px 12px;background:var(--card);border-radius:var(--radius-sm);border:1px solid var(--border);overflow:hidden;">
      <div style="display:flex;align-items:center;gap:12px;padding:14px 16px;border-bottom:1px solid var(--border);">
        <div style="flex:1;">
          <div style="font-weight:600;font-size:15px;letter-spacing:1px;">BLOOM20</div>
          <div style="font-size:12px;color:var(--muted);">–°–∫–∏–¥–∫–∞ 20% ¬∑ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω 34 —Ä–∞–∑–∞</div>
        </div>
        <div style="padding:4px 10px;background:#d4edda;color:#155724;border-radius:20px;font-size:11px;font-weight:600;">–ê–∫—Ç–∏–≤–µ–Ω</div>
      </div>
      <div style="display:flex;align-items:center;gap:12px;padding:14px 16px;">
        <div style="flex:1;">
          <div style="font-weight:600;font-size:15px;letter-spacing:1px;">FIRST15</div>
          <div style="font-size:12px;color:var(--muted);">–°–∫–∏–¥–∫–∞ 15% –ø–µ—Ä–≤—ã–π –∑–∞–∫–∞–∑ ¬∑ 12 —Ä–∞–∑</div>
        </div>
        <div style="padding:4px 10px;background:#d4edda;color:#155724;border-radius:20px;font-size:11px;font-weight:600;">–ê–∫—Ç–∏–≤–µ–Ω</div>
      </div>
    </div>

    <button class="btn-secondary" onclick="showToast('‚ûï –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞...')">+ –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥</button>

    <div style="padding:16px 16px 12px;font-family:'Cormorant Garamond',serif;font-size:20px;font-weight:600;">Push-—Ä–∞—Å—Å—ã–ª–∫–∞</div>

    <div class="field">
      <label>–ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
      <input type="text" placeholder="üå∏ –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ!">
    </div>
    <div class="field">
      <label>–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è</label>
      <textarea placeholder="–¢–æ–ª—å–∫–æ —Å–µ–≥–æ–¥–Ω—è ‚Äî —Å–∫–∏–¥–∫–∞ 25% –Ω–∞ –≤—Å–µ —Ä–æ–∑—ã!"></textarea>
    </div>
    <div class="field">
      <label>–°–µ–≥–º–µ–Ω—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤</label>
      <select>
        <option>–í—Å–µ –∫–ª–∏–µ–Ω—Ç—ã (847)</option>
        <option>–ù–æ–≤—ã–µ (234)</option>
        <option>–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ (389)</option>
        <option>–ù–µ –ø–æ–∫—É–ø–∞–ª–∏ 30+ –¥–Ω–µ–π (224)</option>
      </select>
    </div>
    <button class="btn-primary" onclick="showToast('üì£ –†–∞—Å—Å—ã–ª–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ 847 –∫–ª–∏–µ–Ω—Ç–∞–º!')">üì£ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É</button>
    <div style="height:16px;"></div>
  </div>
</div>

<!-- BOTTOM NAV (hidden in admin) -->
<nav class="bottom-nav" id="bottom-nav">
  <div class="nav-item active" id="nav-home" onclick="navTo('home')">
    <div class="nav-icon">üè†</div>
    <div class="nav-label">–ì–ª–∞–≤–Ω–∞—è</div>
  </div>
  <div class="nav-item" id="nav-catalog" onclick="navTo('catalog')">
    <div class="nav-icon">üå∏</div>
    <div class="nav-label">–ö–∞—Ç–∞–ª–æ–≥</div>
  </div>
  <div class="nav-item" id="nav-constructor" onclick="navTo('constructor')">
    <div class="nav-icon" style="width:48px;height:48px;background:linear-gradient(135deg,var(--rose),var(--deep-rose));border-radius:50%;display:flex;align-items:center;justify-content:center;margin-top:-14px;box-shadow:0 8px 24px rgba(176,94,101,0.4);">‚úÇÔ∏è</div>
    <div class="nav-label">–°–≤–æ–π</div>
  </div>
  <div class="nav-item" id="nav-cart" onclick="navTo('cart')">
    <div class="nav-icon">üõí
      <span class="nav-badge" id="cart-badge" style="display:none;">0</span>
    </div>
    <div class="nav-label">–ö–æ—Ä–∑–∏–Ω–∞</div>
  </div>
  <div class="nav-item" id="nav-profile" onclick="navTo('profile')">
    <div class="nav-icon">üë§</div>
    <div class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</div>
  </div>
</nav>

<script>
// STATE
let cart = [];
let currentProductIdx = 0;
let detailQty = 1;
let screenHistory = ['home'];
let darkMode = false;

const products = [
  { name: '–†–æ—Å–∫–æ—à—å —Ä–æ–∑', price: 2490, emoji: 'üåπ', desc: '25 –∞–ª—ã—Ö —Ä–æ–∑ –ø—Ä–µ–º–∏–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –≤ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ–º –∫—Ä–∞—Ñ—Ç-–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏. –í—ã—Å–æ—Ç–∞ 60‚Äì70 —Å–º. –°–≤–µ–∂–µ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ 7 –¥–Ω–µ–π.', oldPrice: '2 990 ‚ÇΩ', bg: 'linear-gradient(135deg,#ffe0e8,#ffd0d8)' },
  { name: '–ü–∏–æ–Ω—ã –º–µ—á—Ç—ã', price: 3100, emoji: 'üå∑', desc: '15 –Ω–µ–∂–Ω—ã—Ö –ø–∏–æ–Ω–æ–≤ —Å –≤–µ—Ç–∫–∞–º–∏ —ç–≤–∫–∞–ª–∏–ø—Ç–∞. –†–æ—Å–∫–æ—à–Ω—ã–π –∏ –∏–∑—ã—Å–∫–∞–Ω–Ω—ã–π –∞—Ä–æ–º–∞—Ç. –û—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è –æ—Å–æ–±–æ–≥–æ —Å–ª—É—á–∞—è.', bg: 'linear-gradient(135deg,#ffe8f0,#ffd8ec)' },
  { name: '–í–µ—Å–µ–Ω–Ω–∏–π –º–∏–∫—Å', price: 1800, emoji: 'üíê', desc: '–Ø—Ä–∫–∏–π –≤–µ—Å–µ–Ω–Ω–∏–π –±—É–∫–µ—Ç –∏–∑ —Ä–æ–º–∞—à–µ–∫, —Ö—Ä–∏–∑–∞–Ω—Ç–µ–º –∏ –ø–æ–ª–µ–≤—ã—Ö —Ç—Ä–∞–≤. –ü–æ–¥–Ω–∏–º–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤ –ª—é–±—É—é –ø–æ–≥–æ–¥—É.', oldPrice: '2 250 ‚ÇΩ', bg: 'linear-gradient(135deg,#e8f5e9,#d8eeda)' },
  { name: '–°–∞–∫—É—Ä–∞', price: 2200, emoji: 'üå∏', desc: '–Ø–ø–æ–Ω—Å–∫–∞—è —Ñ–ª–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –≤ –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ–º —Å—Ç–∏–ª–µ. –í–µ—Ç–∫–∏ —Å –Ω–µ–∂–Ω–æ-—Ä–æ–∑–æ–≤—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏.', bg: 'linear-gradient(135deg,#fce4ec,#f8bbd9)' },
  { name: '–°–æ–ª–Ω–µ—á–Ω—ã–π', price: 1400, emoji: 'üåª', desc: '7 —Å–≤–µ–∂–∏—Ö –ø–æ–¥—Å–æ–ª–Ω—É—Ö–æ–≤ —Å –∑–µ–ª—ë–Ω—ã–º–∏ –ª–∏—Å—Ç—å—è–º–∏. –Ø—Ä–∫–∏–π –∏ —ç–Ω–µ—Ä–≥–∏—á–Ω—ã–π –±—É–∫–µ—Ç –¥–ª—è –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è.', bg: 'linear-gradient(135deg,#fff9e0,#fff3d0)' },
  { name: '–õ–∞–≤–∞–Ω–¥–æ–≤—ã–π —Å–æ–Ω', price: 2800, emoji: 'üíú', desc: '–ù–µ–∂–Ω–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ –ª–∞–≤–∞–Ω–¥—ã –∏ –º–∞—Ç—Ç–∏–æ–ª—ã —Å —Ç–æ–Ω–∫–∏–º –∞—Ä–æ–º–∞—Ç–æ–º. –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–µ—á–µ—Ä–∞.', bg: 'linear-gradient(135deg,#ede7f6,#d1c4e9)' },
];

// NAVIGATION
function goTo(id) {
  const screens = document.querySelectorAll('.screen');
  screens.forEach(s => s.classList.remove('active'));
  document.getElementById('screen-' + id).classList.add('active', 'slide-in');
  setTimeout(() => document.getElementById('screen-' + id).classList.remove('slide-in'), 300);
  screenHistory.push(id);

  const nav = document.getElementById('bottom-nav');
  nav.style.display = ['home','catalog','cart','profile','constructor'].includes(id) ? 'grid' : 'none';
  if (id === 'admin') nav.style.display = 'none';

  // update nav active state
  document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
  const navEl = document.getElementById('nav-' + id);
  if (navEl) navEl.classList.add('active');

  window.scrollTo(0, 0);
}

function navTo(id) { goTo(id); }

function goBack() {
  screenHistory.pop();
  const prev = screenHistory[screenHistory.length - 1] || 'home';
  screenHistory.pop();
  goTo(prev);
}

// PRODUCT DETAIL
function openProduct(idx) {
  currentProductIdx = idx;
  detailQty = 1;
  const p = products[idx];
  document.getElementById('product-detail-name').textContent = p.name;
  document.getElementById('product-detail-price').textContent = formatPrice(p.price);
  document.getElementById('product-detail-desc').textContent = p.desc;
  document.getElementById('product-detail-emoji').textContent = p.emoji;
  document.getElementById('product-detail-img').style.background = p.bg;
  document.getElementById('detail-qty').textContent = 1;
  document.getElementById('detail-total-price').textContent = formatPrice(p.price);
  goTo('product');
}

function changeQty(d) {
  detailQty = Math.max(1, detailQty + d);
  document.getElementById('detail-qty').textContent = detailQty;
  document.getElementById('detail-total-price').textContent = formatPrice(products[currentProductIdx].price * detailQty);
}

function addCurrentProduct() {
  const p = products[currentProductIdx];
  for (let i = 0; i < detailQty; i++) addToCart(p.name, p.price, p.emoji);
  showToast('üå∏ –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ—Ä–∑–∏–Ω—É!');
  goTo('cart');
}

// CART
function addToCart(name, price, emoji = 'üå∏') {
  const existing = cart.find(i => i.name === name);
  if (existing) { existing.qty++; }
  else { cart.push({ name, price, emoji, qty: 1 }); }
  updateCartUI();
  showToast('üå∏ ' + name + ' –¥–æ–±–∞–≤–ª–µ–Ω!');
}

function updateCartUI() {
  const total = cart.reduce((s, i) => s + i.price * i.qty, 0);
  const count = cart.reduce((s, i) => s + i.qty, 0);
  const badge = document.getElementById('cart-badge');
  badge.textContent = count;
  badge.style.display = count > 0 ? 'flex' : 'none';

  const empty = document.getElementById('cart-empty');
  const items = document.getElementById('cart-items');
  const summary = document.getElementById('cart-summary');

  if (cart.length === 0) {
    empty.style.display = 'block';
    items.innerHTML = '';
    summary.style.display = 'none';
  } else {
    empty.style.display = 'none';
    summary.style.display = 'block';
    items.innerHTML = cart.map((item, idx) => `
      <div class="cart-item">
        <div class="cart-item-img">${item.emoji}</div>
        <div class="cart-item-info">
          <div class="cart-item-name">${item.name}</div>
          <div class="cart-item-price">${formatPrice(item.price)}</div>
        </div>
        <div class="qty-control">
          <button class="qty-btn" onclick="changeCartQty(${idx},-1)">‚àí</button>
          <span class="qty-num">${item.qty}</span>
          <button class="qty-btn" onclick="changeCartQty(${idx},1)">+</button>
        </div>
      </div>
    `).join('');
    document.getElementById('subtotal').textContent = formatPrice(total);
    document.getElementById('total-price').textContent = formatPrice(total);
    document.getElementById('checkout-total').textContent = formatPrice(total);
  }
}

function changeCartQty(idx, d) {
  cart[idx].qty = Math.max(0, cart[idx].qty + d);
  if (cart[idx].qty === 0) cart.splice(idx, 1);
  updateCartUI();
}

function clearCart() {
  cart = [];
  updateCartUI();
  showToast('üóë –ö–æ—Ä–∑–∏–Ω–∞ –æ—á–∏—â–µ–Ω–∞');
}

function resetCart() {
  cart = [];
  updateCartUI();
}

function applyPromo() {
  const code = document.getElementById('promo-input').value.toUpperCase();
  if (code === 'BLOOM20') {
    document.getElementById('discount-row').textContent = '‚àí20%';
    showToast('üéâ –ü—Ä–æ–º–æ–∫–æ–¥ BLOOM20 –ø—Ä–∏–º–µ–Ω—ë–Ω!');
  } else {
    showToast('‚ùå –ü—Ä–æ–º–æ–∫–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω');
  }
}

// CHECKOUT
function placeOrder() {
  showToast('‚è≥ –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–∞...');
  setTimeout(() => { goTo('success'); resetCart(); }, 1500);
}

// UI HELPERS
function formatPrice(n) {
  return n.toLocaleString('ru-RU') + ' ‚ÇΩ';
}

function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2500);
}

function toggleTheme() {
  darkMode = !darkMode;
  document.documentElement.setAttribute('data-theme', darkMode ? 'dark' : '');
  showToast(darkMode ? 'üåô –¢—ë–º–Ω–∞—è —Ç–µ–º–∞' : '‚òÄÔ∏è –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞');
}

function filterCat(el, cat) {
  document.querySelectorAll('.cat-item').forEach(c => c.classList.remove('active'));
  el.classList.add('active');
  showToast('üîç –§–∏–ª—å—Ç—Ä: ' + el.querySelector('.cat-name').textContent);
}

function chipToggle(el) {
  document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
  el.classList.add('active');
}

function toggleWish(btn) {
  const active = btn.classList.toggle('active');
  btn.textContent = active ? '‚ù§Ô∏è' : 'ü§ç';
  showToast(active ? '‚ù§Ô∏è –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ' : 'ü§ç –£–¥–∞–ª–µ–Ω–æ –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ');
}

function selectTime(el) {
  document.querySelectorAll('.time-slot').forEach(s => s.classList.remove('selected'));
  el.classList.add('selected');
}

// AI
function selectMood(el) {
  document.querySelectorAll('.mood-btn').forEach(b => b.classList.remove('selected'));
  el.classList.add('selected');
}

function runAI() {
  showToast('ü§ñ –ü–æ–¥–±–∏—Ä–∞–µ–º –±—É–∫–µ—Ç...');
  setTimeout(() => {
    document.getElementById('ai-result').style.display = 'block';
    document.getElementById('ai-result').scrollIntoView({ behavior: 'smooth' });
  }, 1200);
}

// CONSTRUCTOR
function toggleFlower(el) {
  el.classList.toggle('selected');
  updateConstructorPrice();
}

function selectPackage(el) {
  document.querySelectorAll('.package-opt').forEach(p => p.classList.remove('selected'));
  el.classList.add('selected');
  updateConstructorPrice();
}

function updateConstructorPrice() {
  const selected = document.querySelectorAll('.flower-item.selected').length;
  const basePrice = selected * 120 * 5;
  const pkg = document.querySelector('.package-opt.selected');
  let pkgPrice = 0;
  if (pkg && pkg.textContent.includes('150')) pkgPrice = 150;
  if (pkg && pkg.textContent.includes('300')) pkgPrice = 300;
  document.getElementById('constructor-price').textContent = formatPrice(basePrice + pkgPrice);
}

// ADMIN TABS
function adminTab(btn, panel) {
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  btn.classList.add('active');
  ['analytics','orders','products','marketing'].forEach(p => {
    document.getElementById('admin-' + p).style.display = p === panel ? 'block' : 'none';
  });
}
</script>
</body>
</html>
